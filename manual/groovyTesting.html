<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="favicon.ico" type="image/x-icon" rel="shortcut icon">
<link href="favicon.ico" type="image/x-icon" rel="icon">
<link title="Home" href="WebTestHome.html" rel="chapter">
<link title="Manual" href="manualOverview.html" rel="chapter">
<link title="Manual Overview" href="manualOverview.html" rel="section">
<link title="Samples" href="samples.html" rel="section">
<link title="Properties" href="properties.html" rel="section">
<link title="Syntax Reference - General Steps" href="syntaxGeneral.html" rel="section">
<link title="Syntax Reference - Core Steps" href="syntaxCore.html" rel="section">
<link title="Syntax Reference - Extension Steps" href="syntaxExtension.html" rel="section">
<link title="Syntax Reference - Filter Steps" href="syntaxFilter.html" rel="section">
<link title="Syntax Reference - PDF Steps" href="syntaxPDF.html" rel="section">
<link title="Syntax Reference - Excel Steps" href="syntaxExcel.html" rel="section">
<link title="Syntax Reference - Email Steps" href="syntaxEmail.html" rel="section">
<link title="Step Index" href="stepIndex.html" rel="section">
<link title="Groovy Testing" href="groovyTesting.html" rel="section">
<link title="Sample use" href="#Sample use" rel="subsection">
<link title="More examples" href="#More examples" rel="subsection">
<link title="Integration with other Tools" href="integration.html" rel="section">
<link title="Annotated References" href="annotatedRefs.html" rel="section">
<link title="Develop" href="building.html" rel="chapter">
<link href="website_base.css" type="text/css" rel="stylesheet">
<link href="website_part.css" type="text/css" rel="stylesheet">
<meta name="description" content="Groovy is a scripting language that is executed as Java Byte Code. Groovy Home This allows a Mix &amp; Match between Groovy and Java Code. Groovy comes with an AntBuilder that allows execution of Ant scripts from usual Groovy code. This capability allows executing WebTests, since WebTests are usual Ant tasks. By executing WebTest from a Groovy script, you can fully leverage both the variety of WebTest steps and the sophisticated language means of Groovy for structuring your tests.">
<meta name="keywords" content="Canoo,
						WebTest, web application testing, automatic, XP, ANT, httpunit, htmlunit, groovy,
						acceptance testing, extreme programming, agile development,
						Sample use,More examples,">
<title>Groovy Testing</title>
</head>
<body>
<div id="page">
<img alt="Webtest" height="89" width="949" usemap="#headerLinks" src="images/header.gif" class="mosaic"><map name="headerLinks">
<area alt="WebTest GitHub Home" href="https://github.com/DaveParillo/webtest" coords="30px,30px,180px,55px" shape="rect">
</map>
<div id="navigation-top">
<ul>
<li>
<a href="WebTestHome.html">Home</a>
</li>
<li>
<a href="manualOverview.html" class="selected">Manual</a>
</li>
<li>
<a href="building.html">Develop</a>
</li>
</ul>
</div>
<table style="border-collapse: collapse;" cellpadding="0" cellspacing="0" border="0" rules="none" frame="void" id="main">
<col width="190">
<col width="758">
<tr valign="top">
<td class="main-left" valign="top">
<div id="search">
<form id="searchForm" action="http://www.google.com/search">
<input value="daveparillo.github.io/webtest/" name="sitesearch" type="hidden"><input alt="Search" title="Search" value="Search" name="go" id="searchButton" type="submit"><input title="Search" onfocus="this.select();" name="q" id="searchText" type="text">
</form>
</div>
<div id="navigation-left">
<ul>
<li>
<a href="manualOverview.html">Manual Overview</a>
</li>
<li>
<a href="samples.html">Samples</a>
</li>
<li>
<a href="properties.html">Properties</a>
</li>
<li>
<a href="syntaxGeneral.html">Syntax Reference - General Steps</a>
</li>
<li>
<a href="syntaxCore.html">Syntax Reference - Core Steps</a>
</li>
<li>
<a href="syntaxExtension.html">Syntax Reference - Extension Steps</a>
</li>
<li>
<a href="syntaxFilter.html">Syntax Reference - Filter Steps</a>
</li>
<li>
<a href="syntaxPDF.html">Syntax Reference - PDF Steps</a>
</li>
<li>
<a href="syntaxExcel.html">Syntax Reference - Excel Steps</a>
</li>
<li>
<a href="syntaxEmail.html">Syntax Reference - Email Steps</a>
</li>
<li>
<a href="stepIndex.html">Step Index</a>
</li>
<li>
<a href="groovyTesting.html" class="selected">Groovy Testing</a>
<ul>
<li>
<a href="#Sample use">&gt; Sample use</a>
</li>
<li>
<a href="#More examples">&gt; More examples</a>
</li>
</ul>
</li>
<li>
<a href="integration.html">Integration with other Tools</a>
</li>
<li>
<a href="annotatedRefs.html">Annotated References</a>
</li>
</ul>
</div>
<div class="filler"></div>
</td><td rowspan="2" valign="top">
<div id="main-content">
<h1>Groovy Testing</h1>
        
<p>Groovy is a scripting language that is executed as Java Byte Code.
            <a class="ext" title="external link: opens in new window" target="_blank" href="http://groovy.codehaus.org/">
                Groovy Home</a>
        
</p>


        
<p>This allows a Mix &amp; Match between Groovy and Java Code.</p>

        
<p>Groovy comes with an AntBuilder that allows execution of Ant scripts
            from usual Groovy code. This capability allows executing WebTests, since
            WebTests are usual Ant tasks.
        </p>
        
<p>By executing WebTest from a Groovy script, you can fully leverage both
            the variety of WebTest steps and the sophisticated language means of Groovy for
            structuring your tests.</p>
    
<h2>
<a name="Sample use">Sample use</a>
</h2>
        
<p>This example fetches a page and verifies that it contains the numbers 1 through 10.</p>
        
<div class="code">
<div class="caption">test.groovy</div>
<div class="content">
            
def&nbsp;ant&nbsp;=&nbsp;new&nbsp;AntBuilder()<br>

<br>
def&nbsp;webtest_home&nbsp;=&nbsp;System.properties.'webtest.home'<br>

<br>
ant.taskdef(resource:'webtest.taskdef'){<br>
&nbsp;&nbsp;&nbsp;&nbsp;classpath(){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pathelement(location:"$webtest_home/lib")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fileset(dir:"$webtest_home/lib",&nbsp;includes:"**/*.jar")<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

<br>

<br>
def&nbsp;config_map&nbsp;=&nbsp;[:]<br>
['protocol','host','port','basepath','resultfile',<br>
'resultpath',&nbsp;'saveresponse','defaultpropertytype'].each{<br>
&nbsp;&nbsp;&nbsp;&nbsp;config_map[it]&nbsp;=&nbsp;System.properties['webtest.'+it]<br>
}<br>

<br>
ant.testSpec(name:'groovy:&nbsp;Test&nbsp;Groovy&nbsp;Scripting&nbsp;at&nbsp;creation&nbsp;time'){<br>
&nbsp;&nbsp;&nbsp;&nbsp;config(config_map)<br>
&nbsp;&nbsp;&nbsp;&nbsp;steps(){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invoke(url:'linkpage.html')<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;in&nbsp;1..10){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verifyText(description:"verify&nbsp;number&nbsp;${i}&nbsp;is&nbsp;on&nbsp;pages",&nbsp;text:"${i}")<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br>

        
</div>
</div>
        
<p>Like in ANT, there is a two-phase approach for TaskContainers like 'testSpec'.</p>
        
<dl>
            
                
<dt>first</dt>
                
<dd>steps are constructed and stored (creation time)</dd>
            
            
                
<dt>second</dt>
                
<dd>steps are executed (runtime)</dd>
            
        
</dl>
        
<p>Start with
            <span class="example">groovy -Dwebtest.home=your_webtest_home test.groovy</span>
        
</p>
    
<h2>
<a name="More examples">More examples</a>
</h2>
        
<p>Please find more examples of how to use Canoo WebTest through Groovy
            under <a class="ext" title="external link: opens in new window" target="_blank" href="http://grails.codehaus.org/Functional+Testing">Grails</a>.
        </p>
    
</div>
</td>
</tr>
</table>
</div>
<div class="filler"></div>
</body>
</html>
